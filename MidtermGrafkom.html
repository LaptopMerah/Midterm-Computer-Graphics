<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Midterm Grafkom</title>
    <style>
        .button {
            background-color: #050708;
            color: white;
            border-radius: 0.5rem;
            padding: 0.625rem 1.25rem;
            font-size: 0.875rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .button:hover {
            background-color: rgba(5, 7, 8, 0.8);
        }

        .button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(5, 7, 8, 0.5);
        }
    </style>
</head>

<body class="flex gap-10 text-sm">
    <canvas id="gl-canvas"></canvas>

    <section class="absolute bg-gray-100 m-4 p-2 rounded-md shadow-md flex gap-2">

        
        <div class="flex flex-col gap-2">
            <div class="flex items-center gap-2">
                <button id="ButtonMoveX" class="button">Move X</button>
                <label for="speedX">Speed X:</label>
                <input type="number" id="speedX" name="speedX" value="0.01" step="0.01" min="0.01">
            </div>
            <div class="flex items-center gap-2">
                <button id="ButtonMoveY" class="button">Move Y</button>
                <label for="speedY">Speed Y:</label>
                <input type="number" id="speedY" name="speedY" value="0.01" step="0.01" min="0.01">
            </div>
            <div class="flex items-center gap-2">
                <button id="ButtonMoveDiagonal" class="button">Move Object</button>
            </div>
            <button id="ButtonX" class="button">Rotate X</button>
            <button id="ButtonY" class="button">Rotate Y</button>
            <button id="ButtonZ" class="button">Rotate Z</button>
            <button id="ButtonT" class="button">Toggle Rotation</button>
            <div class="flex items-center gap-2">
                <label for="ambientColor">Ambient Color:</label>
                <input type="color" id="ambientColor" name="ambientColor" value="#808080">
            </div>
            <div class="flex items-center gap-2">
                <label for="diffuseColor">Diffuse Color:</label>
                <input type="color" id="diffuseColor" name="diffuseColor" value="#FFCC00">
            </div>
            <div class="flex items-center gap-2">
                <label for="specularColor">Specular Color:</label>
                <input type="color" id="specularColor" name="specularColor" value="#FFCC00">
            </div>
            <div class="flex items-center gap-2">
                <label for="objectColor">Object Color:</label>
                <input type="color" id="objectColor" value="#FFFFFF">
            </div>
            <div class="flex flex-col gap-2">
                <label for="lightX">Light Position X:</label>
                <input type="range" id="lightX" name="lightX" min="-10" max="10" step="0.1" value="1">
            </div>
            <div class="flex flex-col gap-2">
                <label for="lightY">Light Position Y:</label>
                <input type="range" id="lightY" name="lightY" min="-10" max="10" step="0.1" value="1">
            </div>
            <div class="flex flex-col gap-2">
                <label for="lightZ">Light Position Z:</label>
                <input type="range" id="lightZ" name="lightZ" min="-10" max="10" step="0.1" value="1">
            </div>

        </div>

    </section>


    <script id="vertex-shader" type="x-shader/x-vertex">
    #version 300 es

    in vec4 aPosition;
    in vec3 aNormal;

    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    out vec3 vNormal;
    out vec3 vPosition;

    void main() {
        vPosition = (uModelViewMatrix * aPosition).xyz;
        vNormal = normalize((uModelViewMatrix * vec4(aNormal, 0.0)).xyz);
        gl_Position = uProjectionMatrix * uModelViewMatrix * aPosition;
    }

    </script>
    <script id="fragment-shader" type="x-shader/x-fragment">
    #version 300 es

    precision mediump float;

    in vec3 vNormal;
    in vec3 vPosition;

    uniform vec4 uAmbientProduct;
    uniform vec4 uDiffuseProduct;
    uniform vec4 uSpecularProduct;
    uniform vec4 uLightPosition;
    uniform float uShininess;

    out vec4 fColor;

    void main() {
        vec3 light = normalize(uLightPosition.xyz - vPosition);
        vec3 view = normalize(-vPosition);
        vec3 halfVector = normalize(light + view);
        vec3 normal = normalize(vNormal);

        float Kd = max(dot(light, normal), 0.0);
        vec4 diffuse = Kd * uDiffuseProduct;

        float Ks = pow(max(dot(normal, halfVector), 0.0), uShininess);
        vec4 specular = Ks * uSpecularProduct;

        vec4 ambient = uAmbientProduct;

        if (dot(light, normal) < 0.0) {
            specular = vec4(0.0, 0.0, 0.0, 1.0);
        }

        fColor = ambient + diffuse + specular;
        fColor.a = 1.0;
    }

    </script>


    <script src="initShaders.js"></script>
    <script src="MVnew.js"></script>
    <script src="MidtermGrafkom.js"></script>

</body>

</html>